
///////////////////////////////////////////////////////////////////////
&НаСервере
Функция ПолучитьЗначениеРеквизитаНаСервере(тОбъект, ИмяРевизита)
	
	Возврат тОбъект[ИмяРевизита];
	
КонецФункции

&НаСервере
Функция ПолучитьЗначениеПеречисленияНаСервере(ИмяПеречисления, ИмяРевизита)
	
	Возврат Перечисления[ИмяПеречисления][ИмяРевизита];
	
КонецФункции


///////////////////////////////////////////////////////////////////////
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Если ТипЗнч(ПараметрКоманды) = Тип("ДокументСсылка.пкЗаявкаНаАрендуТехники") Тогда
		
		ОткрытьФорму("Документ.пкЗаданиеНаПеревозку.ФормаОбъекта", Новый Структура("Основание", Новый Структура("ЗаявкаНаАрендуТехники", ПараметрКоманды)));
		
	ИначеЕсли ТипЗнч(ПараметрКоманды) = Тип("ДокументСсылка.пкЗаданиеНаПеревозку") Тогда
		
		ОткрытьФорму("Документ.пкЗаданиеНаПеревозку.ФормаОбъекта", Новый Структура("Основание", ПараметрКоманды));
		
	ИначеЕсли ТипЗнч(ПараметрКоманды) = Тип("СправочникСсылка.ОбъектыЭксплуатации") Тогда
		
		ОткрытьФорму("Документ.пкЗаданиеНаПеревозку.ФормаОбъекта", Новый Структура("Основание", 
			Новый Структура("ВидОперации, 
				|Модель, 
				|Техника", 
				ПолучитьЗначениеПеречисленияНаСервере("пкВидыОперацийЗаданийНаПеревозку", "ПеремещениеМеждуРегионами"), 
				ПолучитьЗначениеРеквизитаНаСервере(ПараметрКоманды, "пкМодель"),
				ПараметрКоманды)));
				
	КонецЕсли;
	
КонецПроцедуры
